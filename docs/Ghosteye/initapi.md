# å‰ç«¯å¿«é€Ÿåˆ›å»º API å’Œç±»å‹å®šä¹‰

## ä»‹ç»

åœ¨ç°ä»£çš„è½¯ä»¶å¼€å‘ä¸­ï¼Œåˆ›å»ºå’Œç®¡ç† API æ˜¯éå¸¸é‡è¦çš„ä¸€éƒ¨åˆ†ã€‚

ä¸ºäº†ç®€åŒ–è¿™ä¸ªè¿‡ç¨‹ï¼Œå¹¶æé«˜å¼€å‘æ•ˆç‡, æˆ‘é€ äº†ä¸€ä¸ªè½®å­, å®ƒæä¾›äº†ä¸€ç§ç®€å•çš„æ–¹å¼æ¥å¿«é€Ÿåˆ›å»º API å¹¶è‡ªåŠ¨ç”Ÿæˆç±»å‹å®šä¹‰ï¼Œè®©å¼€å‘äººå‘˜å¯ä»¥æ›´è½»æ¾åœ°è¿›è¡Œ API çš„è®¾è®¡å’Œå¼€å‘ã€‚

è¿˜èƒ½æä¾›æ›´å¥½çš„ä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

å¦‚æœä½ æ­£åœ¨å¯»æ‰¾ä¸€ç§ç®€å•è€Œåˆé«˜æ•ˆçš„æ–¹å¼æ¥åˆ›å»º API, æˆ‘æ¨èä½ å°è¯•ä¸€ä¸‹ã€‚

é¡¹ç›®é“¾æ¥ï¼š

[initapi(GitHub åœ°å€)](https://github.com/xiaoyao-Ye/initapi)

[initapi(npm åœ°å€)](https://www.npmjs.com/package/initapi)

åˆ›å»ºç»“æœå±•ç¤º:

API æ–‡ä»¶ç¤ºä¾‹
![Generate API Content Example](/initApi/api_mul.png)

ç±»å‹ æ–‡ä»¶ç¤ºä¾‹
![Generate Type Content Example](/initApi/typings.png)

## ä¸»è¦ç‰¹æ€§

- å¿«é€Ÿåˆ›å»º APIï¼š`initapi` æä¾›äº†ä¸€ç§ç®€å•çš„å‘½ä»¤è¡Œç•Œé¢ï¼Œå¯ä»¥å¿«é€Ÿåˆ›å»º API æ–‡ä»¶å¹¶ç”ŸæˆåŸºæœ¬çš„è¯·æ±‚å‡½æ•°ã€‚
- è‡ªåŠ¨ç”Ÿæˆç±»å‹å®šä¹‰ï¼šæ ¹æ® API ç»“æ„å’Œæ•°æ®æ¨¡å‹ï¼Œè‡ªåŠ¨ç”Ÿæˆ TypeScript çš„ interface å’Œ type, é¿å…æ‰‹åŠ¨å®šä¹‰ç±»å‹çš„ç¹çå·¥ä½œã€‚
- ç±»å‹å®‰å…¨ï¼šæ ¹æ®åç«¯ç±»å‹è½¬æ¢æˆå‰ç«¯çš„ TypeScript ç±»å‹ï¼Œæé«˜ä»£ç å¯é æ€§å’Œç±»å‹å®‰å…¨æ€§ã€‚
- ç»Ÿä¸€è§„èŒƒï¼šåŠŸèƒ½æ”¾ç½®ä½ç½®ä¸€è‡´ï¼Œè¯·æ±‚å‡½æ•°çš„åˆ›å»ºæ–¹æ³•ä¸€è‡´ï¼Œä¿æŒä»£ç ç»Ÿä¸€ã€‚
- é™ä½ç»´æŠ¤æˆæœ¬ï¼šåç«¯æ¥å£å˜åŠ¨åï¼Œåªéœ€é‡æ–°ç”Ÿæˆå‡½æ•°ä»£ç ï¼Œå¼•ç”¨éƒ¨åˆ†æ— éœ€ä¿®æ”¹ã€‚

## ä½¿ç”¨æ–¹å¼

> è¿™é‡Œåªä»‹ç»æœ€ç®€å•çš„ä½¿ç”¨æ–¹å¼, å¯å‰å¾€ [initapi](https://github.com/xiaoyao-Ye/initapi) æŸ¥çœ‹æ›´å¤šå¯è‡ªå®šä¹‰å†…å®¹

å®‰è£…:

```bash
npm i initapi -D
# or
pnpm i initapi -D
```

ä½¿ç”¨:

åˆ›å»ºå¹¶é…ç½® `api.config.ts` or `api.config.js`:

```ts
import { defineConfig } from 'initapi'
export default defineConfig({
  service: {
    // åç«¯æœ‰å‡ ä¸ªæœåŠ¡å°±é…ç½®å‡ ä¸ª
    // æœåŠ¡åç§°-åˆ›å»ºAPIæ—¶æ–‡ä»¶å¤¹çš„åç§°ä¼šä½¿ç”¨æ­¤å‘½å
    pets: {
      // APIæ¥å£æ–‡æ¡£çš„jsonæ–‡ä»¶åœ°å€(è¿™é‡Œå€Ÿç”¨swaggerå®˜æ–¹å…¬å¼€çš„ä½œä¸ºç¤ºä¾‹) å¯ä»¥è®¾ç½®è¿œç¨‹ä¹Ÿå¯ä»¥è®¾ç½®æœ¬åœ°ç›¸å¯¹è·¯å¾„
      url: 'https://petstore.swagger.io/v2/swagger.json',
    },
  },
  // API æ–‡ä»¶è¾“å‡ºç›®å½•
  outputDir: './src/api',
})
```

package.json:

```json
  "scripts": {
    "api": "initapi create",
    // ...
  },
```

```bash
npm run api
```

åˆ›å»ºæˆåŠŸç¤ºä¾‹
![Generate success Example](/initApi/workflow.png)

## æœ€å

æ„Ÿè°¢æ‚¨çš„æ”¯æŒå’Œå‚ä¸ï¼å¦‚æœæœ‰ä»»ä½•é—®é¢˜æˆ–éœ€è¦è¿›ä¸€æ­¥çš„å¸®åŠ©ï¼Œè¯·éšæ—¶æé—®ã€‚æˆ‘ä»¬éå¸¸æ¬¢è¿æ‚¨ä½¿ç”¨ã€å…³æ³¨ã€ç‚¹èµã€æäº¤é—®é¢˜å’Œå‘èµ·åˆå¹¶è¯·æ±‚ï¼è°¢è°¢ï¼ğŸ˜Š

é¡¹ç›®é“¾æ¥ï¼š

[initapi(GitHub åœ°å€)](https://github.com/xiaoyao-Ye/initapi)

[initapi(npm åœ°å€)](https://www.npmjs.com/package/initapi)
