import{d as g,h as F,a4 as h,g as y,z as E,_ as v,o as c,c as r,k as A,R as D,F as B,G as _,t as w,J as I,U as T}from"./chunks/framework.97dce334.js";const q=g({name:"VirtualScroll",setup(){const t=F(null),p=F(0),i=F(0),n=h([]),e=y(()=>{const s=Math.floor(p.value/30),l=Math.min(s+10+5,n.length);return n.slice(s,l)}),u=y(()=>e.value.reduce((s,l)=>s+l.height,0)),m=y(()=>p.value?p.value-5*30:0),f=()=>{const s=[];for(let l=0;l<1e3;l++)s.push({text:`Item ${l}`,height:Math.floor(Math.random()*50)+30});n.length=0,n.push(...s)},d=()=>{var s;p.value=((s=t.value)==null?void 0:s.scrollTop)||0};return E(t,s=>{s&&(i.value=s.clientHeight,f())}),{wrapper:t,visibleItems:e,totalHeight:u,offsetY:m,onScroll:d}}});function b(a,o,C,t,p,i){return c(),r("div",{ref:"wrapper",class:"wrapper",onScroll:o[0]||(o[0]=(...n)=>a.onScroll&&a.onScroll(...n))},[A("div",{class:"placeholder",style:D({height:`${a.totalHeight}px`})},null,4),A("div",{class:"content",style:D({transform:`translateY(${a.offsetY}px)`})},[(c(!0),r(B,null,_(a.visibleItems,(n,e)=>(c(),r("div",{key:e,class:"item",style:D({height:`${n.height}px`})},w(n.text),5))),128))],4)],544)}const H=v(q,[["render",b],["__scopeId","data-v-cdd91dee"]]),S=T("",2),$=JSON.parse('{"title":"case","titleTemplate":"虚拟列表","description":"一个不定高的虚拟列表示例, 由 ChatGPT 编写","frontmatter":{"layout":"page","aside":false,"editLink":false,"title":"case","titleTemplate":"虚拟列表","description":"一个不定高的虚拟列表示例, 由 ChatGPT 编写"},"headers":[],"relativePath":"demo/virtual-list.md","filePath":"demo/virtual-list.md","lastUpdated":1705833983000}'),x={name:"demo/virtual-list.md"},V=Object.assign(x,{setup(a){return(o,C)=>(c(),r("div",null,[I(H),S]))}});export{$ as __pageData,V as default};
