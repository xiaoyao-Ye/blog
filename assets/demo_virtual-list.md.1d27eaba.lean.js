import{d as g,h as y,a4 as h,g as D,z as E,_ as v,o as e,c,k as u,R as C,F as B,G as _,t as w,J as I,U as T}from"./chunks/framework.97dce334.js";const b=g({name:"VirtualScroll",setup(){const n=y(null),a=y(0),r=y(0),o=h([]),F=D(()=>{const s=Math.floor(a.value/t),l=Math.min(s+m+A,o.length);return o.slice(s,l)}),i=D(()=>F.value.reduce((s,l)=>s+l.height,0)),p=D(()=>a.value?a.value-A*t:0),t=30,m=10,A=5,f=()=>{const s=[];for(let l=0;l<1e3;l++)s.push({text:`Item ${l}`,height:Math.floor(Math.random()*50)+30});o.length=0,o.push(...s)},d=()=>{var s;a.value=((s=n.value)==null?void 0:s.scrollTop)||0};return E(n,s=>{s&&(r.value=s.clientHeight,f())}),{wrapper:n,visibleItems:F,totalHeight:i,offsetY:p,onScroll:d}}});function q(n,a,r,o,F,i){return e(),c("div",{ref:"wrapper",class:"wrapper",onScroll:a[0]||(a[0]=(...p)=>n.onScroll&&n.onScroll(...p))},[u("div",{class:"placeholder",style:C({height:n.totalHeight+"px"})},null,4),u("div",{class:"content",style:C({transform:"translateY("+n.offsetY+"px)"})},[(e(!0),c(B,null,_(n.visibleItems,(p,t)=>(e(),c("div",{key:t,class:"item",style:C({height:p.height+"px"})},w(p.text),5))),128))],4)],544)}const S=v(b,[["render",q],["__scopeId","data-v-d68715b1"]]),x=T("",2),V=JSON.parse('{"title":"case","titleTemplate":"虚拟列表","description":"一个不定高的虚拟列表示例, 由 ChatGPT 编写","frontmatter":{"layout":"page","aside":false,"editLink":false,"title":"case","titleTemplate":"虚拟列表","description":"一个不定高的虚拟列表示例, 由 ChatGPT 编写"},"headers":[],"relativePath":"demo/virtual-list.md","filePath":"demo/virtual-list.md","lastUpdated":1692782573000}'),H={name:"demo/virtual-list.md"},Y=Object.assign(H,{setup(n){return(a,r)=>(e(),c("div",null,[I(S),x]))}});export{V as __pageData,Y as default};
